!function(e){function u(e){return e.replace(h,"$1")}function o(e){return e.trim().replace(/\s+/," ").toUpperCase()}function _(e,t,s){var i=t.slice(s).match(e);return i?s+i.index:null}function p(e){return(new P).parse(e.substr(1,e.length-2),{})}var t="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",s="\\\\"+t,i="[^\\\\()\\x00-\\x20]",n=new RegExp("^(?:<[A-Za-z][A-Za-z0-9]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9]*\\s*[>]|\x3c!--([^-]+|[-][^-]+)*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[([^\\]]+|\\][^\\]]|\\]\\][^>])*\\]\\]>)","i"),v=new RegExp("^<(?:(?:article|header|aside|hgroup|iframe|blockquote|hr|body|li|map|button|object|canvas|ol|caption|output|col|p|colgroup|pre|dd|progress|div|section|dl|table|td|dt|tbody|embed|textarea|fieldset|tfoot|figcaption|th|figure|thead|footer|footer|tr|form|ul|h1|h2|h3|h4|h5|h6|video|script|style)[\\s/>]|/(?:article|header|aside|hgroup|iframe|blockquote|hr|body|li|map|button|object|canvas|ol|caption|output|col|p|colgroup|pre|dd|progress|div|section|dl|table|td|dt|tbody|embed|textarea|fieldset|tfoot|figcaption|th|figure|thead|footer|footer|tr|form|ul|h1|h2|h3|h4|h5|h6|video|script|style)[\\s>]|[?!])","i"),r=new RegExp('^(?:"('+s+'|[^"\\x00])*"|\'('+s+"|[^'\\x00])*'|\\(("+s+"|[^)\\x00])*\\))"),a=new RegExp("^(?:[<](?:[^<>\\n\\\\\\x00]|"+s+"|\\\\)*[>])"),l=new RegExp("^(?:"+i+"+|"+s+"|\\(([^\\\\()\\x00-\\x20]|\\\\[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-])*\\))*"),c=new RegExp(t),h=new RegExp("\\\\("+t+")","g"),x=(new RegExp("^\\\\("+t+")"),/\t/g),L=/^(?:(?:\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/,d=/^(?:[\n`\[\]\\!<&*_]|[^\n`\[\]\\!<&*_]+)/m,f=function(e){var t=e.exec(this.subject.slice(this.pos));return t?(this.pos+=t.index+t[0].length,t[0]):null},m=function(){return this.subject[this.pos]||null},g=function(){return this.match(/^ *(?:\n *)?/),1},k=function(e){var t=this.pos,s=this.match(/^`+/);if(!s)return 0;for(var i,n=this.pos;i=this.match(/`+/m);)if(i==s)return e.push({t:"Code",c:this.subject.slice(n,this.pos-s.length).replace(/[ \n]+/g," ").trim()}),this.pos-t;return e.push({t:"Str",c:s}),this.pos=n,this.pos-t},b=function(e){var t=this.subject,s=this.pos;return"\\"===t[s]?"\n"===t[s+1]?(e.push({t:"Hardbreak"}),this.pos=this.pos+2,2):c.test(t[s+1])?(e.push({t:"Str",c:t[s+1]}),this.pos=this.pos+2,2):(this.pos++,e.push({t:"Str",c:"\\"}),1):0},z=function(e){var t,s;return(t=this.match(/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/))?(s=t.slice(1,-1),e.push({t:"Link",label:[{t:"Str",c:s}],destination:"mailto:"+s}),t.length):(t=this.match(/^<(?:coap|doi|javascript|aaa|aaas|about|acap|cap|cid|crid|data|dav|dict|dns|file|ftp|geo|go|gopher|h323|http|https|iax|icap|im|imap|info|ipp|iris|iris.beep|iris.xpc|iris.xpcs|iris.lwz|ldap|mailto|mid|msrp|msrps|mtqp|mupdate|news|nfs|ni|nih|nntp|opaquelocktoken|pop|pres|rtsp|service|session|shttp|sieve|sip|sips|sms|snmp|soap.beep|soap.beeps|tag|tel|telnet|tftp|thismessage|tn3270|tip|tv|urn|vemmi|ws|wss|xcon|xcon-userid|xmlrpc.beep|xmlrpc.beeps|xmpp|z39.50r|z39.50s|adiumxtra|afp|afs|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|chrome|chrome-extension|com-eventbrite-attendee|content|cvs|dlna-playsingle|dlna-playcontainer|dtn|dvb|ed2k|facetime|feed|finger|fish|gg|git|gizmoproject|gtalk|hcp|icon|ipn|irc|irc6|ircs|itms|jar|jms|keyparc|lastfm|ldaps|magnet|maps|market|message|mms|ms-help|msnim|mumble|mvn|notes|oid|palm|paparazzi|platform|proxy|psyc|query|res|resource|rmi|rsync|rtmp|secondlife|sftp|sgn|skype|smb|soldat|spotify|ssh|steam|svn|teamspeak|things|udp|unreal|ut2004|ventrilo|view-source|webcal|wtai|wyciwyg|xfire|xri|ymsgr):[^<>\x00-\x20]*>/i))?(s=t.slice(1,-1),e.push({t:"Link",label:[{t:"Str",c:s}],destination:s}),t.length):0},I=function(e){var t=this.match(n);return t?(e.push({t:"Html",c:t}),t.length):0},w=function(e){for(var t,s=0,i=this.pos,n=0===this.pos?"\n":this.subject[this.pos-1];this.peek()===e;)s++,this.pos++;t=this.peek()||"\n";var r=0<s&&s<=3&&!/\s/.test(t),a=0<s&&s<=3&&!/\s/.test(n);return"_"===e&&(r=r&&!/[a-z0-9]/i.test(n),a=a&&!/[a-z0-9]/i.test(t)),this.pos=i,{numdelims:s,can_open:r,can_close:a}},H=function(e){var t,s,i,n=this.pos,r=0,a=this.peek();if("*"!=a&&"_"!=a)return 0;if(t=a,res=this.scanDelims(t),s=res.numdelims,this.pos+=s,e.push({t:"Str",c:this.subject.substr(this.pos-s,s)}),i=e.length-1,!res.can_open||0===s)return 0;var l=0;switch(s){case 1:for(;;){if(res=this.scanDelims(t),1<=res.numdelims&&res.can_close){this.pos+=1,e[i].t="Emph",e[i].c=e.slice(1+i),e.splice(1+i);break}if(0===this.parseInline(e))break}return this.pos-n;case 2:for(;;){if(res=this.scanDelims(t),2<=res.numdelims&&res.can_close){this.pos+=2,e[i].t="Strong",e[i].c=e.slice(1+i),e.splice(1+i);break}if(0===this.parseInline(e))break}return this.pos-n;case 3:for(;;)if(res=this.scanDelims(t),1<=res.numdelims&&res.numdelims<=3&&res.can_close&&res.numdelims!=l){if(1===l&&2<s?res.numdelims=2:2!==l&&3!==res.numdelims||(res.numdelims=1),this.pos+=res.numdelims,0<r){e[i].t=1===l?"Strong":"Emph",e[i].c=[{t:1===l?"Emph":"Strong",c:e.slice(1+i,r)}].concat(e.slice(r+1)),e.splice(1+i);break}e.push({t:"Str",c:this.subject.slice(this.pos-res.numdelims,this.pos)}),r=e.length-1,l=res.numdelims}else if(0===this.parseInline(e))break;return this.pos-n;default:return res}return 0},y=function(){var e=this.match(r);return e?u(e.substr(1,e.length-2)):null},S=function(){var e=this.match(a);return e?u(e.substr(1,e.length-2)):null!==(e=this.match(l))?u(e):null},C=function(){if("["!=this.peek())return 0;var e,t=this.pos,s=0;if(0<this.label_nest_level)return this.label_nest_level--,0;for(this.pos++;(e=this.peek())&&("]"!=e||0<s);)switch(e){case"`":this.parseBackticks([]);break;case"<":this.parseAutolink([])||this.parseHtmlTag([])||this.parseString([]);break;case"[":s++,this.pos++;break;case"]":s--,this.pos++;break;case"\\":this.parseEscaped([]);break;default:this.parseString([])}return"]"===e?(this.label_nest_level=0,this.pos++,this.pos-t):(e||(this.label_nest_level=s),this.pos=t,0)},A=function(e){var t,s,i=this.pos,n=this.parseLinkLabel();if(0===n)return 0;this.pos;var r=this.subject.substr(i,n);if("("==this.peek())return this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(/^\s/.test(this.subject[this.pos-1])&&(s=this.parseLinkTitle()||""),1)&&this.spnl()&&this.match(/^\)/)?(e.push({t:"Link",destination:t,title:s,label:p(r)}),this.pos-i):(this.pos=i,0);var a=this.pos;this.spnl();var l=this.pos,c=2==(n=this.parseLinkLabel())?r:0<n?this.subject.slice(l,l+n):(this.pos=a,r),h=this.refmap[o(c)];return h?(e.push({t:"Link",destination:h.destination,title:h.title,label:p(r)}),this.pos-i):(this.pos=i,0)},j=function(e){var t;return(t=this.match(/^&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});/i))?(e.push({t:"Entity",c:t}),t.length):0},B=function(e){var t;return(t=this.match(d))?(e.push({t:"Str",c:t}),t.length):0},E=function(e){if("\n"!=this.peek())return 0;this.pos++;var t=e[e.length-1];return t&&"Str"==t.t&&"  "==t.c.slice(-2)?(t.c=t.c.replace(/ *$/,""),e.push({t:"Hardbreak"})):(t&&"Str"==t.t&&" "==t.c.slice(-1)&&(t.c=t.c.slice(0,-1)),e.push({t:"Softbreak"})),1},R=function(e){if(this.match(/^!/)){var t=this.parseLink(e);if(0===t)return e.push({t:"Str",c:"!"}),1;if(e[e.length-1]&&"Link"==e[e.length-1].t)return e[e.length-1].t="Image",t+1;throw"Shouldn't happen"}return 0},D=function(e,t){var s,i,n;this.subject=e,this.pos=0;var r,a=this.pos;if(0===(r=this.parseLinkLabel()))return 0;if(s=this.subject.substr(0,r),":"!==this.peek())return this.pos=a,0;if(this.pos++,this.spnl(),null===(i=this.parseLinkDestination())||0===i.length)return this.pos=a,0;var l=this.pos;if(this.spnl(),null===(n=this.parseLinkTitle())&&(n="",this.pos=l),null===this.match(/^ *(?:\n|$)/))return this.pos=a,0;var c=o(s);return t[c]||(t[c]={destination:i,title:n}),this.pos-a},$=function(e){var t;switch(this.peek()){case"\n":t=this.parseNewline(e);break;case"\\":t=this.parseEscaped(e);break;case"`":t=this.parseBackticks(e);break;case"*":case"_":t=this.parseEmphasis(e);break;case"[":t=this.parseLink(e);break;case"!":t=this.parseImage(e);break;case"<":t=this.parseAutolink(e)||this.parseHtmlTag(e);break;case"&":t=this.parseEntity(e)}return t||this.parseString(e)},Z=function(e,t){this.subject=e,this.pos=0,this.refmap=t||{};for(var s=[];this.parseInline(s););return s};function P(){return{subject:"",label_nest_level:0,pos:0,refmap:{},match:f,peek:m,spnl:g,parseBackticks:k,parseEscaped:b,parseAutolink:z,parseHtmlTag:I,scanDelims:w,parseEmphasis:H,parseLinkTitle:y,parseLinkDestination:S,parseLinkLabel:C,parseLink:A,parseEntity:j,parseString:B,parseNewline:E,parseImage:R,parseReference:D,parseInline:$,parse:Z}}function T(e,t,s){return{t:e,open:!0,last_line_blank:!1,start_line:t,start_column:s,end_line:t,children:[],parent:null,string_content:"",strings:[],inline_content:[]}}function q(e){return"Paragraph"==e||"IndentedCode"==e||"FencedCode"==e}function F(e,t){for(var s=e,i=null;"List"===s.t&&(i=s),s=s.parent;);if(i){for(;e!=i;)this.finalize(e,t),e=e.parent;this.finalize(i,t),this.tip=i.parent}}function O(e,t){var s=e.slice(t);if(!this.tip.open)throw{msg:"Attempted to add line ("+e+") to closed container."};this.tip.strings.push(s)}function X(e,t,s){for(;i=this.tip.t,n=e,"Document"!=i&&"BlockQuote"!=i&&"ListItem"!=i&&("List"!=i||"ListItem"!=n);)this.finalize(this.tip,t);var i,n,r=T(e,t,s+1);return this.tip.children.push(r),r.parent=this.tip,this.tip=r}function Q(e,s){var t,i,n,r,a,l,c,h,o,p,u=!0,d=0,f=this.doc,m=this.tip;for(e=function(e){if(-1==e.indexOf("\t"))return e;var i=0;return e.replace(x,function(e,t){var s="    ".slice((t-i)%4);return i=t+1,s})}(e);0<f.children.length&&(t=f.children[f.children.length-1]).open;){switch(f=t,a=null===(n=_(/[^ ]/,e,d))?(i=e.length,!0):(i=n,!1),l=i-d,f.t){case"BlockQuote":l<=3&&">"===e[i]?" "===e[d=i+1]&&d++:u=!1;break;case"ListItem":l>=f.list_data.marker_offset+f.list_data.padding?d+=f.list_data.marker_offset+f.list_data.padding:a?d=i:u=!1;break;case"IndentedCode":4<=l?d+=4:a?d=i:u=!1;break;case"ATXHeader":case"SetextHeader":case"HorizontalRule":u=!1;break;case"FencedCode":for(h=f.fence_offset;0<h&&" "===e[d];)d++,h--;break;case"HtmlBlock":a&&(u=!1);break;case"Paragraph":a&&(u=!(f.last_line_blank=!0))}if(!u){f=f.parent;break}}function g(e){for(;!t&&m!=c;)e.finalize(m,s),m=m.parent;var t=!0}for(c=f,a&&f.last_line_blank&&this.breakOutOfLists(f,s);"FencedCode"!=f.t&&"IndentedCode"!=f.t&&"HtmlBlock"!=f.t&&null!==_(/^[ #`~*+_=<>0-9-]/,e,d);){if(a=null===(n=_(/[^ ]/,e,d))?(i=e.length,!0):(i=n,!1),4<=(l=i-d)){if("Paragraph"==this.tip.t||a)break;d+=4,g(this),f=this.addChild("IndentedCode",s,d)}else if(">"===e[i])" "===e[d=i+1]&&d++,g(this),f=this.addChild("BlockQuote",s,d);else{if(n=e.slice(i).match(/^#{1,6}(?: +|$)/)){d=i+n[0].length,g(this),(f=this.addChild("ATXHeader",s,i)).level=n[0].trim().length,f.strings=[e.slice(d).replace(/(?:(\\#) *#*| *#+) *$/,"$1")];break}if(n=e.slice(i).match(/^`{3,}(?!.*`)|^~{3,}(?!.*~)/)){var k=n[0].length;g(this),(f=this.addChild("FencedCode",s,i)).fence_length=k,f.fence_char=n[0][0],f.fence_offset=i-d,d=i+k;break}if(null!==_(v,e,i)){g(this),f=this.addChild("HtmlBlock",s,i);break}if("Paragraph"==f.t&&1===f.strings.length&&(n=e.slice(i).match(/^(?:=+|-+) *$/)))g(this),f.t="SetextHeader",f.level="="===n[0][0]?1:2,d=e.length;else{if(null!==_(L,e,i)){g(this),f=this.addChild("HorizontalRule",s,i),d=e.length-1;break}if(!(r=function(e,t){var s,i,n=e.slice(t),r={};if(n.match(L))return null;if(s=n.match(/^[*+-]( +|$)/))i=s[1].length,r.type="Bullet",r.bullet_char=s[0][0];else{if(!(s=n.match(/^(\d+)([.)])( +|$)/)))return null;i=s[3].length,r.type="Ordered",r.start=parseInt(s[1]),r.delimiter=s[2]}var a=s[0].length===n.length;return r.padding=5<=i||i<1||a?s[0].length-i+1:s[0].length,r}(e,i)))break;g(this),r.marker_offset=l,d=i+r.padding,"List"===f.t&&(o=f.list_data,p=r,o.type===p.type&&o.delimiter===p.delimiter&&o.bullet_char===p.bullet_char)||((f=this.addChild("List",s,i)).list_data=r),(f=this.addChild("ListItem",s,i)).list_data=r}}if(q(f.t))break}if(a=null===(n=_(/[^ ]/,e,d))?(i=e.length,!0):(i=n,!1),l=i-d,this.tip!==c&&!a&&"Paragraph"==this.tip.t&&0<this.tip.strings.length)this.last_line_blank=!1,this.addLine(e,d);else{g(this),f.last_line_blank=a&&!("BlockQuote"==f.t||"FencedCode"==f.t||"ListItem"==f.t&&0===f.children.length&&f.start_line==s);for(var b=f;b.parent;)b.parent.last_line_blank=!1,b=b.parent;switch(f.t){case"IndentedCode":case"HtmlBlock":this.addLine(e,d);break;case"FencedCode":(n=l<=3&&e[i]==f.fence_char&&e.slice(i).match(/^(?:`{3,}|~{3,})(?= *$)/))&&n[0].length>=f.fence_length?this.finalize(f,s):this.addLine(e,d);break;case"ATXHeader":case"SetextHeader":case"HorizontalRule":break;default:q(f.t)?this.addLine(e,i):a||("HorizontalRule"!=f.t&&"SetextHeader"!=f.t?(f=this.addChild("Paragraph",s,i),this.addLine(e,i)):console.log("Line "+s.toString()+" with container type "+f.t+" did not match any condition."))}}}function U(e,t){var s,i;if(!e.open)return 0;switch(e.open=!1,t>e.start_line?e.end_line=t-1:e.end_line=t,e.t){case"Paragraph":for(e.string_content=e.strings.join("\n").replace(/^  */m,"");"["===e.string_content[0]&&(s=this.inlineParser.parseReference(e.string_content,this.refmap));)if(e.string_content=e.string_content.slice(s),i=e.string_content,/^\s*$/.test(i)){e.t="ReferenceDef";break}break;case"ATXHeader":case"SetextHeader":case"HtmlBlock":e.string_content=e.strings.join("\n");break;case"IndentedCode":e.string_content=e.strings.join("\n").replace(/(\n *)*$/,"\n");break;case"FencedCode":e.info=u(e.strings[0].trim()),1==e.strings.length?e.string_content="":e.string_content=e.strings.slice(1).join("\n")+"\n";break;case"List":e.tight=!0;for(var n=e.children.length,r=0;r<n;){var a=e.children[r],l=r==n-1;if(J(a)&&!l){e.tight=!1;break}for(var c=a.children.length,h=0;h<c;){var o=a.children[h],p=h==c-1;if(J(o)&&(!l||!p)){e.tight=!1;break}h++}r++}}this.tip=e.parent||this.top}function N(e){switch(e.t){case"Paragraph":case"SetextHeader":case"ATXHeader":e.inline_content=this.inlineParser.parse(e.string_content.trim(),this.refmap),e.string_content=""}if(e.children)for(var t=0;t<e.children.length;t++)this.processInlines(e.children[t])}function G(e){this.doc=T("Document",1,1),this.tip=this.doc,this.refmap={};for(var t=e.replace(/\n$/,"").split(/\r\n|\n|\r/),s=t.length,i=0;i<s;i++)this.incorporateLine(t[i],i+1);for(;this.tip;)this.finalize(this.tip,s-1);return this.processInlines(this.doc),this.doc}var J=function(e){return!!e.last_line_blank||("List"==e.t||"ListItem"==e.t)&&0<e.children.length&&J(e.children[e.children.length-1])};function K(e,t,s,i){var n="<"+e;if(t)for(var r,a=0;void 0!==(r=t[a]);)n=n.concat(" ",r[0],'="',r[1],'"'),a++;return s?n=n.concat(">",s,"</",e,">"):i?n+=" />":n=n.concat("></",e,">"),n}function M(e){var t;switch(e.t){case"Str":return this.escape(e.c);case"Softbreak":return this.softbreak;case"Hardbreak":return K("br",[],"",!0)+"\n";case"Emph":return K("em",[],this.renderInlines(e.c));case"Strong":return K("strong",[],this.renderInlines(e.c));case"Html":case"Entity":return e.c;case"Link":return t=[["href",this.escape(e.destination,!0)]],e.title&&t.push(["title",this.escape(e.title,!0)]),K("a",t,this.renderInlines(e.label));case"Image":return t=[["src",this.escape(e.destination,!0)],["alt",this.escape(this.renderInlines(e.label))]],e.title&&t.push(["title",this.escape(e.title,!0)]),K("img",t,"",!0);case"Code":return K("code",[],this.escape(e.c));default:return console.log("Uknown inline type "+e.t),""}}function V(e){for(var t="",s=0;s<e.length;s++)t+=this.renderInline(e[s]);return t}function W(e,t){var s,i,n;switch(e.t){case"Document":var r=this.renderBlocks(e.children);return""===r?"":r+"\n";case"Paragraph":return t?this.renderInlines(e.inline_content):K("p",[],this.renderInlines(e.inline_content));case"BlockQuote":var a=this.renderBlocks(e.children);return K("blockquote",[],""===a?this.innersep:this.innersep+this.renderBlocks(e.children)+this.innersep);case"ListItem":return K("li",[],this.renderBlocks(e.children,t).trim());case"List":return s="Bullet"==e.list_data.type?"ul":"ol",i=e.list_data.start&&1!=e.list_data.start?[["start",e.list_data.start.toString()]]:[],K(s,i,this.innersep+this.renderBlocks(e.children,e.tight)+this.innersep);case"ATXHeader":case"SetextHeader":return s="h"+e.level,K(s,[],this.renderInlines(e.inline_content));case"IndentedCode":return K("pre",[],K("code",[],this.escape(e.string_content)));case"FencedCode":return i=0===(n=e.info.split(/ +/)).length||0===n[0].length?[]:[["class","language-"+this.escape(n[0],!0)]],K("pre",[],K("code",i,this.escape(e.string_content)));case"HtmlBlock":return e.string_content;case"ReferenceDef":return"";case"HorizontalRule":return K("hr",[],"",!0);default:return console.log("Uknown block type "+e.t),""}}function Y(e,t){for(var s=[],i=0;i<e.length;i++)"ReferenceDef"!==e[i].t&&s.push(this.renderBlock(e[i],t));return s.join(this.blocksep)}e.DocParser=function(){return{doc:T("Document",1,1),tip:this.doc,refmap:{},inlineParser:new P,breakOutOfLists:F,addLine:O,addChild:X,incorporateLine:Q,finalize:U,processInlines:N,parse:G}},e.HtmlRenderer=function(){return{blocksep:"\n",innersep:"\n",softbreak:"\n",escape:function(e,t){return t?e.replace(/[&](?![#](x[a-f0-9]{1,8}|[0-9]{1,8});|[a-z][a-z0-9]{1,31};)/gi,"&amp;").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/["]/g,"&quot;"):e.replace(/[&]/g,"&amp;").replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/["]/g,"&quot;")},renderInline:M,renderInlines:V,renderBlock:W,renderBlocks:Y,render:W}}}("undefined"==typeof exports?this.stmd={}:exports);